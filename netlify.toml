[build]
  command = "npm run build"
  publish = ".next"

# For Next.js on Netlify, we need to ensure API routes work
# The Next.js runtime handles routing, so we don't need catch-all redirects

[build.environment]
  NODE_VERSION = "20"
  # MySQL Database URL - Update with your VPS MySQL connection string
  # Format: mysql://username:password@host:port/database?schema=public
  # Example: DATABASE_URL = "mysql://trip_planner_user:password@localhost:3306/trip_planner?schema=public"
  DATABASE_URL = "mysql://trip_planner_user:your_password@localhost:3306/trip_planner?schema=public"
  TRIPADVISOR_API_KEY = "4BD8D2DC82B84E01965E1180DBADE6EC"

# Next.js handles all routing including API routes
# Remove catch-all redirects that interfere with API routes
# If you need SPA fallback, use Next.js rewrites instead

[dev]
  command = "npm run dev"
  port = 3000
  publish = ".next"

